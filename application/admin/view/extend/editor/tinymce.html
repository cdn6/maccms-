<script type="text/javascript" src="__STATIC__/editor/tinymce/tinymce.min.js"></script>
<script type="text/javascript">
	var EDITOR = tinymce;
</script>
<script>
	var editor = "{$editor}";

	function editor_getEditor(obj) {
		tinyMCE.init({
			language: 'zh_CN',
			plugins: 'code codesample fullscreen hr image link media searchreplace table lists',
			menubar: false,
			toolbar: 'code undo redo indent outdent alignleft aligncenter alignright alignjustify numlist bullist codesample blockquote bold underline strikethrough italic removeformat subscript superscript hr searchreplace link image media backcolor forecolor table fullscreen fontselect fontsizeselect formatselect',
			toolbar_sticky: false,
			toolbar_mode: 'wrap',
			images_upload_url: "{:url('upload/upload')}?from=tinymce&flag={$cl|strtolower}_editor&input=file",
			selector: '#' + obj,
			init_instance_callback: function(editor) {
				res = editor;
			}
		});
		return tinyMCE.activeEditor;
	}

	function editor_setContent(obj, html) {
		return obj.setContent(html);
	}

	function editor_getContent(obj) {
		return obj.getContent();
	}
	$(document).on('click', '[lay-filter="formSubmit"]', function() {
		tinyMCE.triggerSave();
	});
</script>
